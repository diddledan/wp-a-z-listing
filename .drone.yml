---
kind: pipeline
name: wordpress-4.6:php-5.6

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:5.6
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 4.6 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-4.6:php-7.0

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.0
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 4.6 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-4.6:php-7.1

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.1
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 4.6 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-4.7:php-5.6

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:5.6
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 4.7 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-4.7:php-7.0

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.0
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 4.7 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-4.7:php-7.1

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.1
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 4.7 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-4.8:php-5.6

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:5.6
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 4.8 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-4.8:php-7.0

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.0
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 4.8 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-4.8:php-7.1

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.1
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 4.8 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-4.9:php-5.6

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:5.6
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 4.9 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-4.9:php-7.0

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.0
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 4.9 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-4.9:php-7.1

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.1
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 4.9 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.0:php-5.6

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:5.6
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.0 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.0:php-7.0

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.0
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.0 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.0:php-7.1

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.1
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.0 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.1:php-5.6

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:5.6
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.1 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.1:php-7.0

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.0
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.1 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.1:php-7.1

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.1
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.1 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.2:php-5.6

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:5.6
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.2 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.2:php-7.0

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.0
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.2 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.2:php-7.1

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.1
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.2 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-latest:php-5.6

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:5.6
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql latest true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-latest:php-7.0

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.0
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql latest true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-latest:php-7.1

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.1
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql latest true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-nightly:php-5.6

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:5.6
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql nightly true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-nightly:php-7.0

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.0
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql nightly true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-nightly:php-7.1

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.1
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql nightly true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.0:php-5.6

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:5.6
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.0 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.0:php-7.0

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.0
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.0 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.0:php-7.1

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.1
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.0 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.0:php-7.2

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.2
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.0 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.0:php-7.3

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.3
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.0 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.0:php-latest

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:latest
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.0 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.0:php-nightly

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:nightly
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.0 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.1:php-5.6

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:5.6
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.1 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.1:php-7.0

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.0
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.1 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.1:php-7.1

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.1
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.1 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.1:php-7.2

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.2
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.1 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.1:php-7.3

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.3
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.1 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.1:php-latest

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:latest
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.1 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.1:php-nightly

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:nightly
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.1 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.2:php-5.6

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:5.6
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.2 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.2:php-7.0

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.0
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.2 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.2:php-7.1

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.1
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.2 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.2:php-7.2

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.2
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.2 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.2:php-7.3

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.3
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.2 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.2:php-latest

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:latest
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.2 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-5.2:php-nightly

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:nightly
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql 5.2 true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-latest:php-5.6

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:5.6
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql latest true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-latest:php-7.0

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.0
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql latest true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-latest:php-7.1

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.1
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql latest true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-latest:php-7.2

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.2
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql latest true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-latest:php-7.3

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.3
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql latest true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-latest:php-latest

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:latest
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql latest true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-latest:php-nightly

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:nightly
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql latest true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-nightly:php-5.6

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:5.6
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql nightly true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-nightly:php-7.0

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.0
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql nightly true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-nightly:php-7.1

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.1
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql nightly true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-nightly:php-7.2

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.2
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql nightly true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-nightly:php-7.3

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:7.3
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql nightly true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-nightly:php-latest

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:latest
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql nightly true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

---
kind: pipeline
name: wordpress-nightly:php-nightly

platform:
  os: linux
  arch: amd64

steps:
- name: phpunit
  image: bowlhat/gitlab-php-runner:nightly
  commands:
  - apt-get clean
  - apt-get -yqq update
  - DEBIAN_FRONTEND=noninteractive apt-get -yqqf install zip unzip subversion mariadb-client libmariadb-dev --fix-missing
  - docker-php-ext-enable mbstring mysqli pdo_mysql intl gd zip bz2
  - bash bin/install-wp-tests.sh wordpress_tests root mysql mysql nightly true
  - "curl -sSLo phpunit.phar https://phar.phpunit.de/phpunit-5.phar && chmod +x phpunit.phar"
  - composer install
  - ./phpunit

services:
- name: mysql
  image: mysql:5.6
  environment:
    MYSQL_DATABASE: wordpress_tests
    MYSQL_ROOT_PASSWORD: mysql

...
